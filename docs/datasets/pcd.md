# Precursor Coincident Dataset (PCD)

This page describes the metadata for the Precursor Coincident Dataset (PCD),
which consists of 13 high-quality 3D measurement sites across the contiguous
United States (CONUS).

### Download the Data

To download and generate the dataset assets in both GeoJSON (`.geojson`) and
GeoParquet (`.geoparquet`) formats, run the following command from the root of
the repository:

```bash
pixi run python src/coincident/scripts/generate_pcd.py
```

```{note}
This will create a new `data` subdirectory in your current working directory if `data` does not already exist and download all PCD metadata as GeoJSONs and Geoparquets. The total disk space required for all of these files is under 100mb.
```

---

#### Dataset Description

The PCD was generated by identifying regions of overlapping data from key
airborne and spaceborne sensors. The provided files contain STAC-compliant
metadata describing the spatial and temporal footprints for each data source at
each site.

- **Airborne Lidar**: **USGS 3DEP**, **NEON**, and **NCALM** acquisitions.
- **Satellite Lidar**: **ICESat-2** (ATL06) and **GEDI** (L2A).
- **Stereo Imagery**: **Maxar** in-track stereo images.

The output from the download script includes GeoJSONs for each data provider and
data type (e.g., ALS footprints, ICESat-2 tracks, stereo footprints, and the
final four-way overlap area). The metadata includes sensor details, acquisition
times, quality metrics, and terrain characteristics derived from the Copernicus
30m DEM and NLCD 2021 land cover data.

#### Methodology & Composition

The 13 final sites were selected through a multi-stage filtering workflow that
prioritized high-quality, temporally coincident data (typically within a ±30 day
window). The workflow required a minimum of 10 km² of four-way overlap between
all sensor types. Candidate sites were characterized by land cover and manually
reviewed for data quality, ensuring a diverse set of geographies and land types.
Diverse stereo acquisition geometry, diverse aerial lidar quality, and
spaceborne altimetry noise filtering were also taken into account.

The final sites include:

- **9 USGS 3DEP sites** spanning glacial terrain, forests, shrublands, urban
  areas, and wetlands.
- **3 NEON sites** focused on mixed hardwood and conifer forests.
- **1 NCALM site** from a dense drone-based SfM survey.

While this initial dataset focuses on four-way overlap, it excludes some regions
like bathymetric zones where stereo imagery is less effective. However, users
are encouraged to use the `coincident` package to find three-way overlaps (e.g.,
ALS, ICESat-2, GEDI) for these and other applications.
